
[tasks.grafana-run]
script = """
docker run \
  ${FLAGS} \
  --name ${GRAFANA_CONTAINER_NAME} \
  --net host \
  ${GRAFANA_DOCKER_IMAGE}
"""

[tasks.grafana-start]
extend = "grafana-run"
env = { "FLAGS" = "-d" }

[tasks.grafana-restart]
extend = "grafana-run"
env = { "FLAGS" = "-d" }
dependencies = ["grafana-destroy"]

[tasks.grafana-stop]
env = { "CONTAINER_NAME" = "${GRAFANA_CONTAINER_NAME}" }
run_task = "docker-stop"

[tasks.grafana-destroy]
env = { "CONTAINER_NAME" = "${GRAFANA_CONTAINER_NAME}" }
run_task = "docker-destroy"

[tasks.grafana-logs]
extend = "docker-logs"
env = { "CONTAINER_NAME" = "${GRAFANA_CONTAINER_NAME}" }
